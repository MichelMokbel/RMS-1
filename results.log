
   PASS  Tests\Unit\ExampleTest
  âœ“ that true is true                                                    0.01s  



   PASS  Tests\Feature\AP\ApAgingReportTest
  âœ“ it calculates aging buckets                                          1.35s  

   PASS  Tests\Feature\AP\ApApiTest
  âœ“ it lists invoices via api                                            0.05s  
  âœ“ it prevents duplicate invoice number for supplier                    0.03s  

   PASS  Tests\Feature\AP\ApAuthorizationTest
  âœ“ it redirects guest from payables index                               0.01s  
  âœ“ it allows admin to hit api invoices                                  0.01s  

   PASS  Tests\Feature\AP\ApInvoiceWorkflowTest
  âœ“ it posts draft invoice                                               0.03s  
  âœ“ it voids invoice without allocations                                 0.02s  

   PASS  Tests\Feature\AP\ApPaymentAllocationTest
  âœ“ it blocks allocation beyond outstanding                              0.02s  
  âœ“ it allocates and updates status to partially paid                    0.03s  

   PASS  Tests\Feature\Admin\PermissionsTest
  âœ“ non-admin cannot access users index                                  0.01s  

   PASS  Tests\Feature\Admin\UserCrudTest
  âœ“ admin can create a user                                              1.58s  
  âœ“ admin can edit a user                                                0.05s  
  âœ“ admin can deactivate a user                                          0.03s  

   PASS  Tests\Feature\Auth\AuthenticationTest
  âœ“ login screen can be rendered                                         0.03s  
  âœ“ users can authenticate using the login screen                        0.02s  
  âœ“ users can not authenticate with invalid password                     0.01s  
  âœ“ users with two factor enabled are redirected to two factor challengâ€¦ 0.02s  
  âœ“ users can logout                                                     0.01s  

   PASS  Tests\Feature\Auth\EmailVerificationTest
  âœ“ email verification screen can be rendered                            0.02s  
  âœ“ email can be verified                                                0.02s  
  âœ“ email is not verified with invalid hash                              0.01s  
  âœ“ already verified user visiting verification link is redirected withâ€¦ 0.01s  

   PASS  Tests\Feature\Auth\LoginTest
  âœ“ users can log in with username                                       0.02s  
  âœ“ login fails with wrong password                                      0.01s  
  âœ“ inactive users cannot log in                                         0.01s  

   PASS  Tests\Feature\Auth\PasswordConfirmationTest
  âœ“ confirm password screen can be rendered                              0.01s  

   PASS  Tests\Feature\Auth\PasswordResetTest
  âœ“ reset password link screen can be rendered                           0.02s  
  âœ“ reset password link can be requested                                 0.22s  
  âœ“ reset password screen can be rendered                                0.23s  
  âœ“ password can be reset with valid token                               0.23s  

   PASS  Tests\Feature\Auth\RegistrationTest
  âœ“ registration screen can be rendered                                  0.02s  
  âœ“ new users can register                                               0.02s  

   PASS  Tests\Feature\Auth\TwoFactorChallengeTest
  âœ“ two factor challenge redirects to login when not authenticated       0.01s  
  âœ“ two factor challenge can be rendered                                 0.02s  

   PASS  Tests\Feature\CategoriesTest
  âœ“ admin can create a category                                          0.04s  
  âœ“ admin can edit a category                                            0.04s  
  âœ“ prevent self parent selection                                        0.04s  
  âœ“ prevent cycle loops when selecting parent                            0.04s  
  âœ“ prevent duplicate names under same parent                            0.05s  
  âœ“ prevent deletion when category is in use                             0.06s  
  âœ“ soft delete behavior                                                 0.05s  
  âœ“ non admin cannot access categories index                             0.02s  

   PASS  Tests\Feature\Customers\CustomersApiTest
  âœ“ it returns light customers list by default                           0.02s  
  âœ“ it returns single customer                                           0.02s  

   PASS  Tests\Feature\Customers\CustomersAuthorizationTest
  âœ“ it redirects guests from customers index                             0.01s  
  âœ“ it forbids non-privileged users                                      0.02s  
  âœ“ it allows admin to view customers                                    0.07s  

   PASS  Tests\Feature\Customers\CustomersImportTest
  âœ“ it imports customers from csv create mode                            0.03s  

   PASS  Tests\Feature\Customers\CustomersWebTest
  âœ“ it admin can create retail customer with credit forced to zero       0.17s  
  âœ“ it search filter works                                               0.04s  

   PASS  Tests\Feature\DailyDishMenus\DailyDishMenusAuthorizationTest
  âœ“ it redirects guests from planner                                     0.02s  
  âœ“ it allows admin to view planner                                      0.09s  
  âœ“ it forbids non-privileged user                                       0.02s  

   PASS  Tests\Feature\DailyDishMenus\DailyDishMenusCrudTest
  âœ“ it enforces unique branch-date                                       0.03s  
  âœ“ it blocks editing when published                                     0.02s  
  âœ“ it publish requires at least one item                                0.02s  

   PASS  Tests\Feature\DailyDishMenus\DailyDishMenusPublishTest
  âœ“ it clones menu into a draft target                                   0.03s  
  âœ“ it rejects publish if no items                                       0.02s  
  âœ“ it unpublishes back to draft                                         0.03s  

   PASS  Tests\Feature\DailyDishOps\DailyDishOpsAuthorizationTest
  âœ“ it redirects guests from daily dish ops day                          0.03s  
  âœ“ it allows admin to view daily dish ops day                           0.06s  
  âœ“ it allows kitchen to view daily dish ops day                         0.07s  
  âœ“ it allows cashier to view daily dish ops day                         0.07s  
  âœ“ it forbids a non-privileged user from daily dish ops day             0.02s  
  âœ“ it allows cashier to view manual daily dish create page              0.05s  
  âœ“ it forbids kitchen from manual daily dish create page                0.03s  

   PASS  Tests\Feature\DailyDishOps\PrepTotalsRulesTest
  âœ“ it prep totals include only Confirmed and InProduction orders        0.02s  
  âœ“ it prep totals can exclude subscription or manual orders             0.02s  

   PASS  Tests\Feature\DailyDishOps\SubscriptionRunLoggingTest
  âœ“ it creates run logs and ops events for subscription generation (dryâ€¦ 0.05s  
  âœ“ it logs failed run when menu is missing                              0.02s  

   PASS  Tests\Feature\DashboardTest
  âœ“ guests are redirected to the login page                              0.01s  
  âœ“ authenticated users can visit the dashboard                          0.03s  

   PASS  Tests\Feature\ExampleTest
  âœ“ returns a successful response                                        0.01s  

   PASS  Tests\Feature\Expenses\ExpenseCategoriesTest
  âœ“ it blocks deleting category in use                                   0.03s  

   PASS  Tests\Feature\Expenses\ExpensePaymentsTest
  âœ“ it adds a payment and updates status                                 0.03s  

   PASS  Tests\Feature\Expenses\ExpensesAuthorizationTest
  âœ“ it blocks guests from expenses                                       0.01s  
  âœ“ it allows admin to view expenses index                               0.05s  

   PASS  Tests\Feature\Expenses\ExpensesCrudTest
  âœ“ it creates an expense with computed total                            0.03s  
  âœ“ it prevents delete when payments exist                               0.02s  
  âœ“ it computes payment status unpaid/partial/paid                       0.03s  

   PASS  Tests\Feature\Inventory\InventoryAdjustmentsTest
  âœ“ it increase adjustment updates stock and creates transaction         0.05s  
  âœ“ it prevent negative stock when disallowed                            0.02s  
  âœ“ it adjust via show component decreases stock                         0.17s  

   PASS  Tests\Feature\Inventory\InventoryApiTest
  âœ“ it lists inventory items via api                                     0.02s  
  âœ“ it adjust endpoint updates stock                                     0.03s  

   PASS  Tests\Feature\Inventory\InventoryAuthorizationTest
  âœ“ it redirects guests from inventory index                             0.01s  
  âœ“ it allows admin to view inventory                                    0.04s  

   PASS  Tests\Feature\Inventory\InventoryItemsWebTest
  âœ“ it admin can create item with unique code                            0.14s  
  âœ“ it initial stock creates adjustment and updates current stock        0.12s  

   PASS  Tests\Feature\KitchenOps\KitchenOpsAuthorizationTest
  âœ“ it redirects guests from kitchen ops                                 0.02s  
  âœ“ it allows kitchen to view kitchen ops                                0.05s  
  âœ“ it forbids non-privileged user from kitchen ops                      0.02s  

   PASS  Tests\Feature\KitchenOps\OrderWorkflowServiceTest
  âœ“ it enforces valid order transitions and logs ops events              0.03s  
  âœ“ it enforces valid item transitions and logs ops events               0.03s  

   PASS  Tests\Feature\MenuItems\MenuItemsApiTest
  âœ“ it returns light menu items list                                     0.04s  

   PASS  Tests\Feature\MenuItems\MenuItemsAuthorizationTest
  âœ“ it redirects guests from menu items index                            0.01s  
  âœ“ it allows admin to view menu items                                   0.05s  

   PASS  Tests\Feature\MenuItems\MenuItemsUsageTest
  âœ“ it blocks deactivation when order_items references the menu item     0.04s  

   PASS  Tests\Feature\MenuItems\MenuItemsWebTest
  âœ“ it admin can create menu item                                        0.13s  
  âœ“ it search works on code and name                                     0.04s  

   PASS  Tests\Feature\Orders\DailyDishSeparationTest
  âœ“ it separates subscription vs manual daily dish orders                0.01s  

   PASS  Tests\Feature\Orders\ManualDailyDishRequiresMenuTest
  âœ“ it requires published menu when creating daily dish order            0.20s  
  âœ“ it allows create when published menu exists and items selected       0.22s  

   PASS  Tests\Feature\Orders\SubscriptionReadOnlyItemsTest
  âœ“ it subscription orders cannot edit items via edit component          0.04s  

   PASS  Tests\Feature\PettyCash\ExpensesWorkflowTest
  âœ“ it computes total as amount plus tax                                 0.02s  
  âœ“ it approval reduces wallet balance, submission does not              0.01s  
  âœ“ it reject does not affect balance                                    0.01s  
  âœ“ it prevents negative balance when disallowed                         0.08s  

   PASS  Tests\Feature\PettyCash\IssuesTest
  âœ“ it blocks issue on inactive wallet                                   0.02s  
  âœ“ it increases wallet balance when issue is created                    0.02s  

   PASS  Tests\Feature\PettyCash\PettyCashAuthorizationTest
  âœ“ it redirects guests from petty cash index                            0.01s  
  âœ“ it allows admin role to view petty cash index                        0.05s  

   PASS  Tests\Feature\PettyCash\ReceiptsTest
  âœ“ it stores receipt and path on expense                                0.03s  
  âœ“ it rejects invalid mime type for receipt                             0.01s  

   PASS  Tests\Feature\PettyCash\ReconciliationsTest
  âœ“ it captures expected balance and variance on reconciliation          0.02s  
  âœ“ it applies reconciliation to wallet balance when enabled             0.02s  
  âœ“ it does not apply reconciliation to wallet balance when disabled     0.01s  

   PASS  Tests\Feature\PettyCash\WalletsTest
  âœ“ it creates wallet with creator via service                           0.02s  

   PASS  Tests\Feature\PurchaseOrders\PurchaseOrdersAuthorizationTest
  âœ“ it redirects guest from purchase orders                              0.01s  
  âœ“ it allows admin to view purchase orders                              0.07s  

   PASS  Tests\Feature\PurchaseOrders\PurchaseOrdersWorkflowTest
  âœ“ it creates draft purchase order with lines                           0.03s  
  âœ“ it approves and receives purchase order                              0.04s  

   PASS  Tests\Feature\Recipes\RecipeCostingTest
  âœ“ it computes costing with package and unit quantities and overhead nâ€¦ 0.02s  

   PASS  Tests\Feature\Recipes\RecipeProductionTest
  âœ“ it produces recipe and deducts stock with integer constraint         0.04s  
  âœ“ it allows fractional deduction                                       0.04s  
  âœ“ it blocks insufficient stock when negative stock disallowed          0.02s  

   PASS  Tests\Feature\Recipes\RecipesAuthorizationTest
  âœ“ it redirects guests from recipes index                               0.02s  
  âœ“ it allows admin role to view recipes index                           0.09s  
  âœ“ it forbids non-manager/admin roles                                   0.04s  
  âœ“ it shows recipe show page for admin                                  0.07s  

   PASS  Tests\Feature\Recipes\RecipesCrudTest
  âœ“ it creates recipe with items transactionally                         0.02s  
  âœ“ it updates recipe by re-syncing items                                0.02s  

   PASS  Tests\Feature\Settings\PasswordUpdateTest
  âœ“ password can be updated                                              0.05s  
  âœ“ correct password must be provided to update password                 0.05s  

   PASS  Tests\Feature\Settings\ProfileUpdateTest
  âœ“ profile page is displayed                                            0.04s  
  âœ“ profile information can be updated                                   0.04s  
  âœ“ email verification status is unchanged when email address is unchanâ€¦ 0.04s  
  âœ“ user can delete their account                                        0.03s  
  âœ“ correct password must be provided to delete account                  0.03s  

   PASS  Tests\Feature\Settings\TwoFactorAuthenticationTest
  âœ“ two factor settings page can be rendered                             0.04s  
  âœ“ two factor settings page requires password confirmation when enableâ€¦ 0.01s  
  âœ“ two factor settings page returns forbidden response when two factorâ€¦ 0.02s  
  âœ“ two factor authentication disabled when confirmation abandoned betwâ€¦ 0.02s  

   PASS  Tests\Feature\SubscriptionGeneration\GenerationCreatesOrdersTest
  âœ“ it creates order and mapping for active subscription                 0.04s  
  âœ“ it is idempotent and skips existing mapping                          0.03s  
  âœ“ it respects salad/dessert toggles                                    0.05s  

   PASS  Tests\Feature\SubscriptionGeneration\GenerationMenuSelectionTest
  âœ“ it skips when no published menu                                      0.02s  

   PASS  Tests\Feature\Subscriptions\SubscriptionsAuthorizationTest
  âœ“ it redirects guests from subscriptions index                         0.01s  
  âœ“ it allows admin to view subscriptions index                          0.05s  
  âœ“ it forbids non-privileged user                                       0.02s  

   PASS  Tests\Feature\Subscriptions\SubscriptionsCrudTest
  âœ“ it creates subscription with weekdays and generates code             0.02s  
  âœ“ it requires at least one weekday                                     0.01s  
  âœ“ it enforces end date after start date                                0.01s  

   PASS  Tests\Feature\Subscriptions\SubscriptionsLifecycleTest
  âœ“ it is active on a valid weekday within range                         0.02s  
  âœ“ it is not active outside date range                                  0.02s  
  âœ“ it is not active when paused status                                  0.02s  
  âœ“ it is not active during pause range                                  0.02s  
  âœ“ it weekdayEnabled respects configured days                           0.02s  

   PASS  Tests\Feature\Suppliers\SuppliersApiTest
  âœ“ it returns only active suppliers by default (light)                  0.02s  
  âœ“ it status=all returns active and inactive                            0.05s  
  âœ“ it prevents archive when referenced                                  0.05s  

   PASS  Tests\Feature\Suppliers\SuppliersAuthorizationTest
  âœ“ it redirects guests from suppliers index                             1.23s  
  âœ“ it forbids non-admin users from suppliers index                      0.02s  
  âœ“ it allows admin users to access suppliers index                      0.04s  

   FAIL  Tests\Feature\Suppliers\SuppliersWebTest
  âœ“ it allows admin to create supplier                                   0.11s  
  âœ“ it enforces unique supplier name                                     0.04s  
  âœ“ it validates email format                                            0.05s  
  âœ“ it persists qid_cr and allows search                                 0.05s  
  â¨¯ it allows admin to deactivate and activate supplier                  0.06s  
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\Suppliers\SuppliersWebTest > it allows admin to deaâ€¦   
  Component has errors: "phone"
Failed asserting that false is true.

  at vendor/livewire/livewire/src/Features/SupportValidation/TestsValidation.php:109
    105â–•     {
    106â–•         $errors = $this->errors();
    107â–• 
    108â–•         if (empty($keys)) {
  âžœ 109â–•             PHPUnit::assertTrue($errors->isEmpty(), 'Component has errors: "'.implode('", "', $errors->keys()).'"');
    110â–• 
    111â–•             return $this;
    112â–•         }
    113â–•

      [2m+1 vendor frames [22m
  2   tests/Feature/Suppliers/SuppliersWebTest.php:87


  Tests:    1 failed, 169 passed (341 assertions)
  Duration: 10.86s

